<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Building and running the connector server </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Building and running the connector server ">
    <meta name="generator" content="docfx 2.57.2.0">
    
    <link rel="shortcut icon" href="../guide/favicon.png">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                i2 <strong>Connect SDK</strong>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show/hide table of contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
          
          <div class="subnav navbar navbar-default">
            <div class="container hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="building-and-running-the-connector-server">Building and running the connector server</h1>

<p>To deploy a connector to a production instance of i2 Analyze that includes the i2 Connect gateway, the SDK includes commands for:</p>
<ul>
<li><p>Building the service code without starting the server</p>
</li>
<li><p>Starting the connector server and its services as they were last built</p>
</li>
</ul>
<p>To build the services and do nothing else:</p>
<pre><code>npm run build
</code></pre><p>To run a server whose services have already been built:</p>
<pre><code>npm run serve
</code></pre><p>When you deploy to a production instance of i2 Analyze, you must ensure that the target system&#39;s command access control settings are configured so that its users can see your connector. The procedure for doing so is the same as it is during development and testing.</p>
<h1 id="configuring-the-connector-server">Configuring the connector server</h1>
<p>You can configure the connector server in a particular connector project through the settings file at <code>config/server.json</code>, or by using environment variables. In new projects, the generated settings file contains the minimum amount of configuration to get your connector server running. You should review the settings to ensure that they are appropriate for your deployment:</p>
<pre><code class="lang-json">{
  &quot;serverPort&quot;: 3000,
  &quot;connectorId&quot;: &quot;&lt;populated at creation&gt;&quot;,
  &quot;ssl&quot;: {
    &quot;enabled&quot;: false,
    &quot;serverPort&quot;: 3443,
    &quot;privateKeyFile&quot;: &quot;&quot;,
    &quot;certificateFile&quot;: &quot;&quot;,
    &quot;gatewayCN&quot;: &quot;&quot;,
    &quot;caCertificateFile&quot;: &quot;&quot;
  },
  &quot;log&quot;: {
    &quot;level&quot;: &quot;info&quot;,
    &quot;fileLogging&quot;: {
      &quot;enabled&quot;: false,
      &quot;dir&quot;: &quot;&quot;
    }
  }
}
</code></pre><p>The table below describes the settings and provides the names of the environment variables that you can use to override them.</p>
<table>
<thead>
<tr>
<th>JSON setting</th>
<th>Environment variable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>serverPort</code></td>
<td><code>SERVER_PORT</code></td>
<td>number</td>
<td>The port number for connections to the connector server.</td>
</tr>
<tr>
<td><code>connectorId</code></td>
<td><code>CONNECTOR_ID</code></td>
<td>string</td>
<td>The identifier of the connector.</td>
</tr>
<tr>
<td><code>ssl.enabled</code></td>
<td><code>SSL_ENABLED</code></td>
<td>boolean</td>
<td>Whether SSL is enabled.</td>
</tr>
<tr>
<td><code>ssl.serverPort</code></td>
<td><code>SSL_SERVER_PORT</code></td>
<td>number</td>
<td>The port number for SSL connections to the connector server.</td>
</tr>
<tr>
<td><code>ssl.privateKeyFile</code></td>
<td><code>SSL_PRIVATE_KEY</code> or <code>SSL_PRIVATE_KEY_FILE</code></td>
<td>string</td>
<td>The path to the <code>.pem</code> file for the key. An optional passphrase associated with this private key can be supplied in the environment variable <code>SSL_PASSPHRASE</code>.</td>
</tr>
<tr>
<td><code>ssl.certificateFile</code></td>
<td><code>SSL_CERTIFICATE</code> or <code>SSL_CERTIFICATE_FILE</code></td>
<td>string</td>
<td>The path to the <code>.pem</code> file for the certificate.</td>
</tr>
<tr>
<td><code>ssl.gatewayCN</code></td>
<td><code>SSL_GATEWAY_CN</code></td>
<td>string or string[]</td>
<td>The gateway common name or names.</td>
</tr>
<tr>
<td><code>ssl.caCertificateFile</code></td>
<td><code>SSL_CA_CERTIFICATE</code> or <code>SSL_CA_CERTIFICATE_FILE</code></td>
<td>string</td>
<td>The path to the trusted CA certificate.</td>
</tr>
<tr>
<td><code>log.level</code></td>
<td><code>LOG_LEVEL</code></td>
<td>string</td>
<td>The minimum message level to log. Messages at lower levels are ignored. The value can be one of the following:<br><code>error</code><br><code>warn</code><br><code>info</code><br><code>debug</code></td>
</tr>
<tr>
<td><code>log.fileLogging.enabled</code></td>
<td><code>LOG_FILE_LOGGING_ENABLED</code></td>
<td>boolean</td>
<td>Whether file logging is enabled.</td>
</tr>
<tr>
<td><code>log.fileLogging.dir</code></td>
<td><code>LOG_FILE_LOGGING_DIR</code></td>
<td>string</td>
<td>The directory to log to.</td>
</tr>
</tbody>
</table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            &copy; N. Harris Computer Corporation
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
